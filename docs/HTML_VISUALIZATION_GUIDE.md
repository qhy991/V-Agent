# 🎯 HTML可视化使用指南

## 📋 概述

本指南介绍如何使用 `counter_test_utf8_fixed_20250806_145707.txt` 和相关的实验文件生成HTML可视化报告。

## 🚀 快速开始

### 1. 生成HTML报告

```bash
# 运行HTML可视化器
python html_visualizer.py
```

### 2. 查看报告

生成的文件：`experiment_visualization_llm_coordinator_counter_1754463430.html`

- **双击HTML文件** 在浏览器中打开
- 或者右键选择"用浏览器打开"

## 📊 报告内容

### 🎯 实验概览
- 执行状态（成功/失败）
- 任务耗时统计
- 智能体交互次数
- 工作流阶段数量

### 🔄 工作流分析
- **执行时间线图表**：显示智能体任务执行的时间顺序
- 交互式图表，可悬停查看详情

### 📈 性能分析
- **智能体性能对比**：执行时间和响应长度对比
- **工作流阶段时间分布**：饼图显示各阶段耗时占比

### 💻 代码展示
- **Verilog设计代码**：完整的counter模块代码
- **测试台代码**：生成的测试台代码（前1000字符）

### ⚠️ 错误分析
- **错误类型统计**：编译失败、工具执行失败等统计
- **错误详情分析**：具体问题和解决方案建议

### 📁 文件结构
- 实验目录结构展示
- 生成文件的完整列表

## 🎨 交互功能

### 标签页切换
- 点击顶部标签页切换不同视图
- 支持：工作流分析、性能分析、代码展示、错误分析、文件结构

### 图表交互
- **缩放**：鼠标滚轮或双指缩放
- **平移**：拖拽移动图表
- **悬停**：鼠标悬停查看详细数据
- **重置**：双击图表重置视图

## 🔧 自定义配置

### 修改实验ID
```python
class HTMLVisualizer:
    def __init__(self):
        # 修改为你的实验ID
        self.experiment_id = "your_experiment_id"
```

### 添加新的图表
```python
def create_custom_chart(self):
    """创建自定义图表"""
    fig = go.Figure()
    # 配置图表...
    return fig.to_html(full_html=False, include_plotlyjs='cdn')
```

## 📁 文件说明

| 文件 | 用途 |
|------|------|
| `html_visualizer.py` | HTML可视化器主程序 |
| `experiment_visualization_*.html` | 生成的HTML报告 |
| `llm_experiments/*/reports/experiment_report.json` | 实验数据源 |
| `counter_test_utf8_fixed_20250806_145707.txt` | 日志数据源 |

## 🎯 优势特点

### ✅ 无需服务器
- 直接生成静态HTML文件
- 可在任何浏览器中打开
- 支持离线查看

### ✅ 交互式图表
- 基于Plotly.js的交互式图表
- 支持缩放、平移、悬停
- 响应式设计，适配不同屏幕

### ✅ 专业美观
- 现代化UI设计
- 渐变背景和卡片布局
- 清晰的信息层次

### ✅ 数据完整
- 包含所有实验数据
- 代码语法高亮
- 错误分析详细

## 🔍 故障排除

### 常见问题

1. **文件路径错误**
   ```
   错误: 无法加载实验数据
   解决: 检查实验ID和文件路径
   ```

2. **依赖缺失**
   ```
   错误: ModuleNotFoundError: No module named 'plotly'
   解决: pip install plotly
   ```

3. **编码问题**
   ```
   错误: UnicodeDecodeError
   解决: 确保文件使用UTF-8编码
   ```

### 调试模式
```python
# 在html_visualizer.py中添加调试信息
print(f"加载文件: {file_path}")
print(f"文件存在: {os.path.exists(file_path)}")
```

## 📝 扩展建议

1. **多实验对比**：支持同时展示多个实验的结果
2. **导出功能**：添加PDF导出选项
3. **实时更新**：支持实时数据刷新
4. **自定义主题**：支持不同的视觉主题
5. **数据筛选**：添加数据筛选和搜索功能

## 🎉 总结

通过这个HTML可视化系统，你可以：

- ✅ **直观查看**：实验执行结果一目了然
- ✅ **深入分析**：智能体性能和交互模式
- ✅ **问题诊断**：快速识别工作流中的问题
- ✅ **代码审查**：查看生成的Verilog代码
- ✅ **分享展示**：HTML文件便于分享和展示

这个可视化工具充分利用了统一日志系统收集的结构化数据，为V-Agent的实验结果提供了专业、美观、交互式的展示界面。 