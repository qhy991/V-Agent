# Auto-generated Makefile for Verilog simulation
# Generated by CentralizedAgentFramework ScriptManager

# å˜é‡å®šä¹‰
VERILOG_FILES = counter_8bit.v
TESTBENCH_FILES = counter_8bit_tb.v
ALL_FILES = $(VERILOG_FILES) $(TESTBENCH_FILES)
TARGET = counter_sim
TOP_MODULE = counter_8bit_tb

# å·¥å…·é…ç½®
IVERILOG = iverilog
VVP = vvp
GTKWAVE = gtkwave

# é»˜è®¤ç›®æ ‡
all: compile simulate

# ç¼–è¯‘ç›®æ ‡
compile: $(TARGET)

$(TARGET): $(ALL_FILES)
	@echo "ğŸ”¨ ç¼–è¯‘Verilogæ–‡ä»¶..."
	$(IVERILOG) -o $(TARGET) $(ALL_FILES)
	@echo "âœ… ç¼–è¯‘å®Œæˆ"

# ä»¿çœŸç›®æ ‡
simulate: $(TARGET)
	@echo "â–¶ï¸ è¿è¡Œä»¿çœŸ..."
	$(VVP) $(TARGET)
	@echo "âœ… ä»¿çœŸå®Œæˆ"

# æ³¢å½¢æŸ¥çœ‹
wave: $(TARGET).vcd
	$(GTKWAVE) $(TARGET).vcd

# æ¸…ç†ç›®æ ‡
clean:
	@echo "ğŸ§¹ æ¸…ç†æ–‡ä»¶..."
	rm -f $(TARGET) *.vcd *.lxt2
	@echo "âœ… æ¸…ç†å®Œæˆ"

# æ˜¾ç¤ºå¸®åŠ©
help:
	@echo "å¯ç”¨ç›®æ ‡:"
	@echo "  all      - ç¼–è¯‘å¹¶è¿è¡Œä»¿çœŸ"
	@echo "  compile  - ä»…ç¼–è¯‘"
	@echo "  simulate - ä»…è¿è¡Œä»¿çœŸ"
	@echo "  wave     - æŸ¥çœ‹æ³¢å½¢"
	@echo "  clean    - æ¸…ç†ç”Ÿæˆçš„æ–‡ä»¶"
	@echo "  help     - æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯"

# æ£€æŸ¥æ–‡ä»¶
check:
	@echo "ğŸ“‹ æ£€æŸ¥æ–‡ä»¶å­˜åœ¨æ€§:"
	@for file in $(ALL_FILES); do \
		if [ -f $$file ]; then \
			echo "  âœ… $$file"; \
		else \
			echo "  âŒ $$file (ä¸å­˜åœ¨)"; \
		fi; \
	done

.PHONY: all compile simulate wave clean help check
