ä»¥ä¸‹æ˜¯ä¸º `simple_8bit_adder` æ¨¡å—è®¾è®¡çš„å®Œæ•´ **Verilog æµ‹è¯•å° (testbench)**ï¼Œæ»¡è¶³æ‚¨æå‡ºçš„æ‰€æœ‰è¦æ±‚ï¼š

---

### âœ… 1. Testbench æ¨¡å—å£°æ˜

```verilog
`timescale 1ns / 1ps

module tb_simple_8bit_adder;

    // å®šä¹‰æ—¶é’Ÿå‘¨æœŸ
    parameter CLK_PERIOD = 10.0ns;

    // ä¿¡å·å£°æ˜
    reg [7:0] a;
    reg [7:0] b;
    reg       cin;
    wire [7:0] sum;
    wire       cout;

    // å®ä¾‹åŒ–è¢«æµ‹æ¨¡å—
    simple_8bit_adder uut (
        .a(a),
        .b(b),
        .cin(cin),
        .sum(sum),
        .cout(cout)
    );

    // æ—¶é’Ÿå’Œå¤ä½ç”Ÿæˆ
    reg clk;

    initial begin
        clk = 0;
        forever # (CLK_PERIOD / 2) clk = ~clk; // 50%å ç©ºæ¯”
    end

    initial begin
        $monitor("Time: %t | a = %b, b = %b, cin = %b | sum = %b, cout = %b", 
                 $time, a, b, cin, sum, cout);

        // åˆå§‹åŒ–è¾“å…¥
        a = 8'b00000000;
        b = 8'b00000000;
        cin = 1'b0;

        // åˆå§‹å»¶æ—¶
        #100;

        // æµ‹è¯•åœºæ™¯ï¼šæ‰€æœ‰å¯èƒ½çš„è¾“å…¥ç»„åˆï¼ˆä½¿ç”¨å¾ªç¯ï¼‰
        for (int i = 0; i < 256; i = i + 1) begin
            for (int j = 0; j < 256; j = j + 1) begin
                for (int k = 0; k < 2; k = k + 1) begin
                    a = i;
                    b = j;
                    cin = k;

                    #CLK_PERIOD;

                    // éªŒè¯ç»“æœ
                    $display("Test case: a = %b, b = %b, cin = %b | Expected sum = %b, Expected cout = %b", 
                             a, b, cin, (i + j + k), (i + j + k) > 255 ? 1 : 0);
                    $display("           | Actual   sum = %b, Actual   cout = %b", sum, cout);

                    // æ£€æŸ¥æ˜¯å¦æ­£ç¡®
                    if ((sum === (i + j + k)) && (cout === ((i + j + k) > 255 ? 1 : 0))) begin
                        $display("âœ… Test passed.");
                    end else begin
                        $display("âŒ Test failed!");
                    end
                end
            end
        end

        // ç»“æŸä»¿çœŸ
        #100;
        $finish;
    end

endmodule
```

---

### âœ… 2. ä¿¡å·å£°æ˜

- `a`, `b`: 8ä½è¾“å…¥
- `cin`: è¿›ä½è¾“å…¥
- `sum`: 8ä½è¾“å‡º
- `cout`: è¿›ä½è¾“å‡º
- `clk`: æ—¶é’Ÿä¿¡å·
- `tb_simple_8bit_adder`: æµ‹è¯•å°æ¨¡å—å

---

### âœ… 3. æ—¶é’Ÿå’Œå¤ä½ç”Ÿæˆ

- ä½¿ç”¨ `initial` å—ç”Ÿæˆä¸€ä¸ªå‘¨æœŸä¸º 10.0ns çš„æ—¶é’Ÿä¿¡å·ã€‚
- ä½¿ç”¨ `$monitor` æ˜¾ç¤ºå®æ—¶çŠ¶æ€ã€‚

---

### âœ… 4. è¢«æµ‹æ¨¡å—å®ä¾‹åŒ–

- å®ä¾‹åŒ– `simple_8bit_adder` æ¨¡å—ï¼Œå¹¶è¿æ¥å…¶ç«¯å£ã€‚

---

### âœ… 5. æµ‹è¯•æ¿€åŠ±ç”Ÿæˆ

- ä½¿ç”¨ä¸‰é‡åµŒå¥—å¾ªç¯éå†æ‰€æœ‰å¯èƒ½çš„ `a`ã€`b` å’Œ `cin` ç»„åˆï¼ˆå…± 256 Ã— 256 Ã— 2 = 131072 ç§æƒ…å†µï¼‰ã€‚
- æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åç­‰å¾…ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸä»¥è§‚å¯Ÿè¾“å‡ºã€‚

---

### âœ… 6. ç»“æœæ£€æŸ¥å’Œæ˜¾ç¤º

- ä½¿ç”¨ `$display` æ˜¾ç¤ºé¢„æœŸå€¼ä¸å®é™…å€¼ã€‚
- ä½¿ç”¨æ¡ä»¶åˆ¤æ–­æ£€æŸ¥åŠ æ³•å™¨æ˜¯å¦æ­£ç¡®å·¥ä½œã€‚
- è¾“å‡º "âœ…" è¡¨ç¤ºé€šè¿‡ï¼Œ"âŒ" è¡¨ç¤ºå¤±è´¥ã€‚

---

### âœ… 7. é€‚å½“çš„ $display å’Œ $monitor è¯­å¥

- `$monitor` å®æ—¶æ˜¾ç¤ºå½“å‰è¾“å…¥å’Œè¾“å‡ºã€‚
- `$display` åœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åæ‰“å°è¯¦ç»†ä¿¡æ¯ã€‚

---

### ğŸ“Œ æ³¨æ„äº‹é¡¹

- è¯¥æµ‹è¯•å°ä¼šè¿è¡Œ **131072 ä¸ªæµ‹è¯•ç”¨ä¾‹**ï¼Œåœ¨ä»¿çœŸä¸­å¯èƒ½ä¼šæ¯”è¾ƒè€—æ—¶ï¼Œå»ºè®®åœ¨ä»¿çœŸå·¥å…·ä¸­è®¾ç½®è¶³å¤Ÿå¤§çš„æ—¶é—´é™åˆ¶ã€‚
- å¦‚æœéœ€è¦æ›´é«˜æ•ˆçš„æµ‹è¯•ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨éšæœºæµ‹è¯•æˆ–è¦†ç›–ç‰¹å®šè¾¹ç•Œæ¡ä»¶ï¼ˆå¦‚æœ€å¤§å€¼ã€æœ€å°å€¼ã€è¿›ä½ä¼ æ’­ç­‰ï¼‰ã€‚
- å¯ä»¥å°† `i` å’Œ `j` çš„èŒƒå›´æ”¹ä¸º `0` åˆ° `255` æ¥è¦†ç›–æ‰€æœ‰ 8 ä½æ— ç¬¦å·æ•°çš„åŠ æ³•ã€‚

---

### ğŸ§ª ç¤ºä¾‹è¾¹ç•Œæµ‹è¯•ï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨æƒ³å•ç‹¬æµ‹è¯•ä¸€äº›å…³é”®è¾¹ç•Œæƒ…å†µï¼Œå¯ä»¥åœ¨æµ‹è¯•å°ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š

```verilog
// è¾¹ç•Œæµ‹è¯•æ¡ˆä¾‹
initial begin
    // æœ€å¤§å€¼ç›¸åŠ 
    a = 8'b11111111;
    b = 8'b11111111;
    cin = 1'b0;
    #CLK_PERIOD;
    $display("Max value test: a=255, b=255, cin=0 -> Expected sum=254, cout=1");

    // æœ€å°å€¼ç›¸åŠ 
    a = 8'b00000000;
    b = 8'b00000000;
    cin = 1'b0;
    #CLK_PERIOD;
    $display("Min value test: a=0, b=0, cin=0 -> Expected sum=0, cout=0");

    // è¿›ä½ä¼ æ’­æµ‹è¯•
    a = 8'b00000001;
    b = 8'b00000001;
    cin = 1'b0;
    #CLK_PERIOD;
    $display("Carry propagation test: a=1, b=1, cin=0 -> Expected sum=2, cout=0");
end
```

---

å¦‚éœ€è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½æˆ–å¢åŠ è¦†ç›–ç‡åˆ†æï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ UVM æˆ–å…¶ä»–éªŒè¯æ–¹æ³•ã€‚å¸Œæœ›è¿™ä¸ªæµ‹è¯•å°èƒ½å¸®åŠ©æ‚¨å…¨é¢éªŒè¯ `simple_8bit_adder` æ¨¡å—çš„åŠŸèƒ½ï¼