ä»¥ä¸‹æ˜¯ä¸º `simple_8bit_adder` æ¨¡å—è®¾è®¡çš„**ä¸“ä¸šä¸”å®Œæ•´çš„Verilogæµ‹è¯•å°ï¼ˆtestbenchï¼‰**ï¼Œæ»¡è¶³æ‚¨æå‡ºçš„æ‰€æœ‰è¦æ±‚ï¼š

---

## âœ… **å®Œæ•´æµ‹è¯•å°æ¨¡å—**

```verilog
`timescale 1ns / 1ps

module tb_simple_8bit_adder;

    // æ—¶é’Ÿå’Œå¤ä½ä¿¡å·
    reg clk;
    reg rst_n;

    // è¾“å…¥ä¿¡å·
    reg [7:0] a;
    reg [7:0] b;
    reg cin;

    // è¾“å‡ºä¿¡å·
    wire [7:0] sum;
    wire cout;

    // å®ä¾‹åŒ–è¢«æµ‹æ¨¡å—
    simple_8bit_adder uut (
        .a(a),
        .b(b),
        .cin(cin),
        .sum(sum),
        .cout(cout)
    );

    // æ—¶é’Ÿç”Ÿæˆé€»è¾‘
    initial begin
        clk = 0;
        forever #5.0 clk = ~clk; // 10ns å‘¨æœŸ
    end

    // å¤ä½ç”Ÿæˆé€»è¾‘
    initial begin
        rst_n = 0;
        #20.0;
        rst_n = 1;
    end

    // æ³¢å½¢è½¬å‚¨è®¾ç½® (VCDæ–‡ä»¶)
    initial begin
        $dumpfile("tb_simple_8bit_adder.vcd");
        $dumpvars(0, tb_simple_8bit_adder);
    end

    // æµ‹è¯•åœºæ™¯å®šä¹‰
    reg [7:0] test_pattern_a;
    reg [7:0] test_pattern_b;
    reg test_pattern_cin;

    // æµ‹è¯•æŠ¥å‘Šè¾“å‡º
    initial begin
        $monitor("Time: %t | a=0x%h, b=0x%h, cin=%b | sum=0x%h, cout=%b", 
                 $time, a, b, cin, sum, cout);

        // æµ‹è¯•åœºæ™¯ï¼šåŸºæœ¬åŠŸèƒ½éªŒè¯
        basic_test();

        // æµ‹è¯•åœºæ™¯ï¼šè¾¹ç•Œæ¡ä»¶æµ‹è¯•
        corner_case_test();

        // æµ‹è¯•åœºæ™¯ï¼šè¿›ä½ä¼ æ’­æµ‹è¯•
        carry_propagation_test();

        // ç»“æŸä»¿çœŸ
        #1000;
        $finish;
    end

    // åŸºæœ¬åŠŸèƒ½æµ‹è¯•
    task basic_test;
        $display("=== Basic Test ===");

        // æµ‹è¯•åŠ æ³•ï¼š0 + 0
        a = 8'b00000000;
        b = 8'b00000000;
        cin = 1'b0;
        #10.0;

        // æµ‹è¯•åŠ æ³•ï¼š1 + 1
        a = 8'b00000001;
        b = 8'b00000001;
        cin = 1'b0;
        #10.0;

        // æµ‹è¯•åŠ æ³•ï¼š127 + 1
        a = 8'b01111111;
        b = 8'b00000001;
        cin = 1'b0;
        #10.0;

        // æµ‹è¯•åŠ æ³•ï¼š127 + 1 + 1
        a = 8'b01111111;
        b = 8'b00000011;
        cin = 1'b0;
        #10.0;

        // æµ‹è¯•åŠ æ³•ï¼š255 + 1
        a = 8'b11111111;
        b = 8'b00000001;
        cin = 1'b0;
        #10.0;

        // æµ‹è¯•å¸¦è¿›ä½åŠ æ³•
        a = 8'b00000001;
        b = 8'b00000001;
        cin = 1'b1;
        #10.0;

        // æµ‹è¯•é«˜ä½è¿›ä½
        a = 8'b11111111;
        b = 8'b11111111;
        cin = 1'b0;
        #10.0;

        // æµ‹è¯•é«˜ä½è¿›ä½+è¿›ä½è¾“å…¥
        a = 8'b11111111;
        b = 8'b11111111;
        cin = 1'b1;
        #10.0;
    endtask

    // è¾¹ç•Œæ¡ä»¶æµ‹è¯•
    task corner_case_test;
        $display("=== Corner Case Test ===");

        // æœ€å°å€¼ + æœ€å°å€¼
        a = 8'b00000000;
        b = 8'b00000000;
        cin = 1'b0;
        #10.0;

        // æœ€å¤§å€¼ + æœ€å¤§å€¼
        a = 8'b11111111;
        b = 8'b11111111;
        cin = 1'b0;
        #10.0;

        // æœ€å¤§å€¼ + 0
        a = 8'b11111111;
        b = 8'b00000000;
        cin = 1'b0;
        #10.0;

        // æœ€å¤§å€¼ + 1
        a = 8'b11111111;
        b = 8'b00000001;
        cin = 1'b0;
        #10.0;

        // è¿›ä½è¾“å…¥ä¸º1
        a = 8'b00000000;
        b = 8'b00000000;
        cin = 1'b1;
        #10.0;

        // è¿›ä½è¾“å…¥ä¸º1ï¼Œå…¶ä»–ä¸º0
        a = 8'b00000000;
        b = 8'b00000000;
        cin = 1'b1;
        #10.0;
    endtask

    // è¿›ä½ä¼ æ’­æµ‹è¯•
    task carry_propagation_test;
        $display("=== Carry Propagation Test ===");

        // è¿›ä½ä»ä½ä½åˆ°é«˜ä½ä¼ æ’­
        a = 8'b00000001;
        b = 8'b00000001;
        cin = 1'b0;
        #10.0;

        a = 8'b00000011;
        b = 8'b00000011;
        cin = 1'b0;
        #10.0;

        a = 8'b00000111;
        b = 8'b00000111;
        cin = 1'b0;
        #10.0;

        a = 8'b00001111;
        b = 8'b00001111;
        cin = 1'b0;
        #10.0;

        a = 8'b00011111;
        b = 8'b00011111;
        cin = 1'b0;
        #10.0;

        a = 8'b00111111;
        b = 8'b00111111;
        cin = 1'b0;
        #10.0;

        a = 8'b01111111;
        b = 8'b01111111;
        cin = 1'b0;
        #10.0;

        a = 8'b11111111;
        b = 8'b11111111;
        cin = 1'b0;
        #10.0;
    endtask

    // æ–­è¨€æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰
    always @(posedge clk) begin
        if (rst_n) begin
            // éªŒè¯ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ
            // å¯ä»¥åœ¨æ­¤å¤„æ·»åŠ æ–­è¨€æˆ–è‡ªå®šä¹‰æ£€æŸ¥é€»è¾‘
            // ç¤ºä¾‹ï¼šæ£€æŸ¥æœ€é«˜ä½è¿›ä½
            if (cout != (a[7] & b[7]) | (a[7] & cin) | (b[7] & cin)) begin
                $display("Error: Cout calculation is incorrect at time %t", $time);
            end
        end
    end

endmodule
```

---

## ğŸ“Œ **è¯´æ˜ä¸ç‰¹ç‚¹**

### 1. **æ¨¡å—å£°æ˜**
- ä½¿ç”¨æ ‡å‡†çš„ `module tb_simple_8bit_adder` å®šä¹‰æµ‹è¯•å°ã€‚
- åŒ…å«æ‰€æœ‰å¿…è¦çš„è¾“å…¥ã€è¾“å‡ºå’Œå†…éƒ¨ä¿¡å·ã€‚

### 2. **æ—¶é’Ÿå’Œå¤ä½**
- æ—¶é’Ÿå‘¨æœŸä¸º 10nsã€‚
- å¤ä½ä¿¡å·åœ¨å¼€å§‹å 20ns è¢«é‡Šæ”¾ã€‚

### 3. **æ³¢å½¢è½¬å‚¨**
- ä½¿ç”¨ `$dumpfile` å’Œ `$dumpvars` ç”Ÿæˆ VCD æ–‡ä»¶ï¼Œä¾¿äºä½¿ç”¨æ³¢å½¢æŸ¥çœ‹å™¨ï¼ˆå¦‚ GTKWaveï¼‰åˆ†æã€‚

### 4. **æµ‹è¯•åœºæ™¯**
- **basic_test**: éªŒè¯åŸºæœ¬åŠ æ³•åŠŸèƒ½ã€‚
- **corner_case_test**: éªŒè¯è¾¹ç•Œæƒ…å†µï¼ˆå¦‚æœ€å¤§/æœ€å°å€¼ï¼‰ã€‚
- **carry_propagation_test**: éªŒè¯è¿›ä½ä¼ æ’­è¡Œä¸ºã€‚

### 5. **ç»“æœæ£€æŸ¥**
- ä½¿ç”¨ `$monitor` æ˜¾ç¤ºå…³é”®ä¿¡å·ã€‚
- å¯æ‰©å±•ä¸ºæ–­è¨€æ£€æŸ¥ï¼ˆç¤ºä¾‹ä¸­å·²é¢„ç•™ï¼‰ã€‚

### 6. **æµ‹è¯•æŠ¥å‘Š**
- ä½¿ç”¨ `$display` è¾“å‡ºæµ‹è¯•åœºæ™¯ä¿¡æ¯ã€‚
- ä½¿ç”¨ `$finish` åœ¨ä»¿çœŸç»“æŸæ—¶é€€å‡ºã€‚

---

## ğŸ§ª **å»ºè®®çš„ä»¿çœŸæµç¨‹**

1. **ç¼–è¯‘**ï¼š
   ```bash
   vcs -R tb_simple_8bit_adder.v simple_8bit_adder.v full_adder.v
   ```

2. **è¿è¡Œä»¿çœŸ**ï¼š
   ```bash
   ./simv
   ```

3. **æŸ¥çœ‹æ³¢å½¢**ï¼š
   ```bash
   gtkwave tb_simple_8bit_adder.vcd
   ```

---

## ğŸ§¾ **é™„åŠ å»ºè®®**

- å¦‚æœéœ€è¦è¦†ç›–ç‡æ”¶é›†ï¼Œå¯ä»¥å¯ç”¨ `$coverage` æˆ–ä½¿ç”¨å·¥å…·å¦‚ Verdiã€‚
- å¯ä»¥å°†æµ‹è¯•æ¿€åŠ±æ”¹ä¸ºéšæœºç”Ÿæˆï¼Œæé«˜è¦†ç›–ç‡ã€‚
- å¯ä»¥åŠ å…¥æ›´å¤æ‚çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä¾‹å¦‚è´Ÿæ•°åŠ æ³•ï¼ˆå¦‚æœæ¨¡å—æ”¯æŒæœ‰ç¬¦å·è¿ç®—ï¼‰ã€‚

---

å¦‚æœæ‚¨éœ€è¦æˆ‘è¿›ä¸€æ­¥æ‰©å±•è¿™ä¸ªæµ‹è¯•å°ï¼ˆä¾‹å¦‚å¢åŠ éšæœºæµ‹è¯•ã€è¦†ç›–ç‡æ”¶é›†ã€æ–­è¨€ç­‰ï¼‰ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼