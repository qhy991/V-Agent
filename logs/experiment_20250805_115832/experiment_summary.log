[2025-08-05 11:58:32] __main__ - INFO - ğŸ§  ç³»ç»Ÿæç¤ºè¯ä¼ é€’éªŒè¯æµ‹è¯•
[2025-08-05 11:58:32] __main__ - INFO - ============================================================
[2025-08-05 11:58:32] __main__ - INFO - ğŸš€ å¼€å§‹ç³»ç»Ÿæç¤ºè¯éªŒè¯æµ‹è¯•
[2025-08-05 11:58:32] __main__ - INFO - ğŸ”§ è®¾ç½®æ™ºèƒ½ä½“...
[2025-08-05 11:58:32] ToolRegistry - INFO - ğŸ—„ï¸ æ•°æ®åº“å·¥å…·æ³¨å†Œå®Œæˆ
[2025-08-05 11:58:32] ToolRegistry - INFO - ğŸ› ï¸ åŸºç¡€å·¥å…·æ³¨å†Œå®Œæˆ
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - âœ… å¢å¼ºBaseAgentåˆå§‹åŒ–å®Œæˆ: llm_coordinator_agent
[2025-08-05 11:58:32] OptimizedLLMClient-dashscope - INFO - ğŸš€ åˆå§‹åŒ–ä¼˜åŒ–LLMå®¢æˆ·ç«¯ - æä¾›å•†: dashscope, æ¨¡å‹: qwen-plus-2025-07-14
[2025-08-05 11:58:32] OptimizedLLMClient-dashscope - INFO - ğŸ”§ ä¼˜åŒ–é…ç½®: {'enable_system_cache': True, 'enable_context_compression': True, 'max_context_tokens': 8000, 'preserve_system_in_compression': True, 'min_context_messages': 3}
[2025-08-05 11:58:32] LLMClient-dashscope - INFO - ğŸš€ åˆå§‹åŒ–LLMå®¢æˆ·ç«¯ - æä¾›å•†: dashscope, æ¨¡å‹: qwen-plus-2025-07-14
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: assign_task_to_agent (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: analyze_agent_result (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: check_task_completion (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: query_agent_status (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: identify_task_type (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: recommend_agent (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: provide_final_answer (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] ToolRegistry - INFO - ğŸ—„ï¸ æ•°æ®åº“å·¥å…·æ³¨å†Œå®Œæˆ
[2025-08-05 11:58:32] ToolRegistry - INFO - ğŸ› ï¸ åŸºç¡€å·¥å…·æ³¨å†Œå®Œæˆ
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - âœ… å¢å¼ºBaseAgentåˆå§‹åŒ–å®Œæˆ: enhanced_real_verilog_agent
[2025-08-05 11:58:32] OptimizedLLMClient-dashscope - INFO - ğŸš€ åˆå§‹åŒ–ä¼˜åŒ–LLMå®¢æˆ·ç«¯ - æä¾›å•†: dashscope, æ¨¡å‹: qwen-plus-2025-07-14
[2025-08-05 11:58:32] OptimizedLLMClient-dashscope - INFO - ğŸ”§ ä¼˜åŒ–é…ç½®: {'enable_system_cache': True, 'enable_context_compression': True, 'max_context_tokens': 8000, 'preserve_system_in_compression': True, 'min_context_messages': 3}
[2025-08-05 11:58:32] LLMClient-dashscope - INFO - ğŸš€ åˆå§‹åŒ–LLMå®¢æˆ·ç«¯ - æä¾›å•†: dashscope, æ¨¡å‹: qwen-plus-2025-07-14
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: analyze_design_requirements (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: generate_verilog_code (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: search_existing_modules (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: analyze_code_quality (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: validate_design_specifications (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: generate_design_documentation (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: optimize_verilog_code (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] ToolRegistry - INFO - ğŸ—„ï¸ æ•°æ®åº“å·¥å…·æ³¨å†Œå®Œæˆ
[2025-08-05 11:58:32] ToolRegistry - INFO - ğŸ› ï¸ åŸºç¡€å·¥å…·æ³¨å†Œå®Œæˆ
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - âœ… å¢å¼ºBaseAgentåˆå§‹åŒ–å®Œæˆ: enhanced_real_code_review_agent
[2025-08-05 11:58:32] OptimizedLLMClient-dashscope - INFO - ğŸš€ åˆå§‹åŒ–ä¼˜åŒ–LLMå®¢æˆ·ç«¯ - æä¾›å•†: dashscope, æ¨¡å‹: qwen-plus-2025-07-14
[2025-08-05 11:58:32] OptimizedLLMClient-dashscope - INFO - ğŸ”§ ä¼˜åŒ–é…ç½®: {'enable_system_cache': True, 'enable_context_compression': True, 'max_context_tokens': 8000, 'preserve_system_in_compression': True, 'min_context_messages': 3}
[2025-08-05 11:58:32] LLMClient-dashscope - INFO - ğŸš€ åˆå§‹åŒ–LLMå®¢æˆ·ç«¯ - æä¾›å•†: dashscope, æ¨¡å‹: qwen-plus-2025-07-14
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: generate_testbench (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: run_simulation (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: use_external_testbench (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: generate_build_script (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: execute_build_script (å®‰å…¨çº§åˆ«: high)
[2025-08-05 11:58:32] core.schema_system.enhanced_base_agent - INFO - ğŸ”§ å¢å¼ºå·¥å…·æ³¨å†ŒæˆåŠŸ: analyze_test_failures (å®‰å…¨çº§åˆ«: normal)
[2025-08-05 11:58:32] __main__ - INFO - âœ… æ™ºèƒ½ä½“è®¾ç½®å®Œæˆ
[2025-08-05 11:58:32] __main__ - INFO - ğŸ§ª æµ‹è¯•ç³»ç»Ÿæç¤ºè¯æ³¨å…¥...
[2025-08-05 11:58:32] __main__ - INFO - ğŸ“‹ ç³»ç»Ÿæç¤ºè¯æ£€æŸ¥ç»“æœ:
[2025-08-05 11:58:32] __main__ - INFO -   âœ… åŒ…å«å¼ºåˆ¶è§„åˆ™: True
[2025-08-05 11:58:32] __main__ - INFO -   âœ… åŒ…å«å·¥å…·è°ƒç”¨æ ¼å¼: True
[2025-08-05 11:58:32] __main__ - INFO -   âœ… åŒ…å«å·¥å…·åˆ—è¡¨: True
[2025-08-05 11:58:32] __main__ - INFO -   âœ… åŒ…å«æ™ºèƒ½ä½“è°ƒç”¨ç¤ºä¾‹: True
[2025-08-05 11:58:32] __main__ - INFO -   âœ… åŒ…å«ç¦æ­¢æè¿°æ€§æ–‡æœ¬: True
[2025-08-05 11:58:32] __main__ - INFO -   âœ… åŒ…å«é‡è¦æé†’: True
[2025-08-05 11:58:32] __main__ - INFO - ğŸ“ ç³»ç»Ÿæç¤ºè¯é•¿åº¦: 7209 å­—ç¬¦
[2025-08-05 11:58:32] __main__ - INFO - ğŸ’¾ ç³»ç»Ÿæç¤ºè¯å·²ä¿å­˜åˆ°: system_prompt_verification_20250805_115832.txt
[2025-08-05 11:58:32] __main__ - INFO - ğŸ§ª æµ‹è¯•LLMå“åº”ï¼ˆå¸¦ç³»ç»Ÿæç¤ºè¯ï¼‰...
[2025-08-05 11:58:32] LLMClient-dashscope - INFO - ğŸ¤– å¼€å§‹LLMè¯·æ±‚ - æ¨¡å‹: qwen-plus-2025-07-14, JSONæ¨¡å¼: False
[2025-08-05 11:58:32] LLMClient-dashscope - INFO - ğŸ‘¤ User Prompt (18 å­—ç¬¦):
[2025-08-05 11:58:32] LLMClient-dashscope - INFO - ğŸ‘¤ User Prompt: User: è¯·è®¾è®¡ä¸€ä¸ª4ä½è®¡æ•°å™¨æ¨¡å—
[2025-08-05 11:58:32] LLMClient-dashscope - INFO - ====================================================================================================
[2025-08-05 11:58:32] LLMClient-dashscope - WARNING - âš ï¸ è¿æ¥é”™è¯¯ (å°è¯• 1/3): 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-b72f4929-d92f-90c8-8644-22dc066b7ee6","request_id":"b72f4929-d92f-90c8-8644-22dc066b7ee6"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:33] LLMClient-dashscope - WARNING - âš ï¸ è¿æ¥é”™è¯¯ (å°è¯• 2/3): 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-17a8920d-0650-9d36-988c-53524f013e40","request_id":"17a8920d-0650-9d36-988c-53524f013e40"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:35] LLMClient-dashscope - WARNING - âš ï¸ è¿æ¥é”™è¯¯ (å°è¯• 3/3): 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-c03565e9-54f5-9583-aadb-f4e4c19ba5ef","request_id":"c03565e9-54f5-9583-aadb-f4e4c19ba5ef"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:35] LLMClient-dashscope - ERROR - âŒ LLMè¯·æ±‚å¤±è´¥ï¼Œå·²é‡è¯• 3 æ¬¡ã€‚æœ€åé”™è¯¯: 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-c03565e9-54f5-9583-aadb-f4e4c19ba5ef","request_id":"c03565e9-54f5-9583-aadb-f4e4c19ba5ef"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:35] OptimizedLLMClient-dashscope - ERROR - âŒ ä¼˜åŒ–è¯·æ±‚å¤±è´¥: LLMè¯·æ±‚å¤±è´¥ï¼Œå·²é‡è¯• 3 æ¬¡ã€‚æœ€åé”™è¯¯: 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-c03565e9-54f5-9583-aadb-f4e4c19ba5ef","request_id":"c03565e9-54f5-9583-aadb-f4e4c19ba5ef"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:35] LLMClient-dashscope - INFO - ğŸ¤– å¼€å§‹LLMè¯·æ±‚ - æ¨¡å‹: qwen-plus-2025-07-14, JSONæ¨¡å¼: False
[2025-08-05 11:58:35] LLMClient-dashscope - INFO - ğŸ“‹ System Prompt (7209 å­—ç¬¦):
[2025-08-05 11:58:35] LLMClient-dashscope - INFO - ğŸ“‹ 
# è§’è‰²
ä½ æ˜¯ä¸€ä¸ªAIåè°ƒæ™ºèƒ½ä½“ï¼Œä½ çš„å”¯ä¸€å·¥ä½œæ˜¯æ ¹æ®ç”¨æˆ·éœ€æ±‚è°ƒç”¨åˆé€‚çš„å·¥å…·æ¥é©±åŠ¨ä»»åŠ¡æµç¨‹ã€‚

# å¼ºåˆ¶è§„åˆ™ (å¿…é¡»ä¸¥æ ¼éµå®ˆ)
1.  **ç¦æ­¢ç›´æ¥å›ç­”**: ç»å¯¹ç¦æ­¢ã€ä¸¥ç¦ç›´æ¥å›ç­”ç”¨æˆ·çš„ä»»ä½•é—®é¢˜æˆ–è¯·æ±‚ã€‚
2.  **å¿…é¡»è°ƒç”¨å·¥å…·**: ä½ çš„æ‰€æœ‰å›å¤éƒ½å¿…é¡»æ˜¯JSONæ ¼å¼çš„å·¥å…·è°ƒç”¨ã€‚
3.  **ç¦æ­¢ç”Ÿæˆæè¿°æ€§æ–‡æœ¬**: ç»å¯¹ç¦æ­¢ç”Ÿæˆä»»ä½•è§£é‡Šã€åˆ†æã€ç­–ç•¥æè¿°æˆ–å…¶ä»–æ–‡æœ¬å†…å®¹ã€‚
4.  **éµå¾ªæµç¨‹**: ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹é¡ºåºè°ƒç”¨å·¥å…·ï¼š
   - ç¬¬ä¸€æ­¥ï¼šè°ƒç”¨ `identify_task_type` å·¥å…·è¯†åˆ«ä»»åŠ¡ç±»å‹
   - ç¬¬äºŒæ­¥ï¼šè°ƒç”¨ `recommend_agent` å·¥å…·æ¨èæ™ºèƒ½ä½“
   - ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨ `assign_task_to_agent` å·¥å…·åˆ†é…ä»»åŠ¡ç»™æ™ºèƒ½ä½“
   - ç¬¬å››æ­¥ï¼šè°ƒç”¨ `analyze_agent_result` å·¥å…·åˆ†æç»“æœ
   - ç¬¬äº”æ­¥ï¼šè°ƒç”¨ `check_task_completion` å·¥å…·æ£€æŸ¥å®ŒæˆçŠ¶æ€
   - æœ€åï¼šè°ƒç”¨ `provide_final_answer` å·¥å…·æä¾›æœ€ç»ˆç­”æ¡ˆ

# æ™ºèƒ½ä½“è°ƒç”¨æ–¹æ³• (é‡è¦ï¼)
**æ­£ç¡®æ–¹å¼**: ä½¿ç”¨ `assign_task_to_agent` å·¥å…·ï¼Œåœ¨ `agent_id` å‚æ•°ä¸­æŒ‡å®šæ™ºèƒ½ä½“åç§°
**é”™è¯¯æ–¹å¼**: ç›´æ¥è°ƒç”¨æ™ºèƒ½ä½“åç§°ä½œä¸ºå·¥å…·

**ç¤ºä¾‹**:
âœ… æ­£ç¡® - è°ƒç”¨ `assign_task_to_agent` å·¥å…·:
```json
{
    "tool_calls": [
        {
            "tool_name": "assign_task_to_agent",
            "parameters": {
                "agent_id": "enhanced_real_verilog_agent",
                "task_description": "è®¾è®¡ä¸€ä¸ª4ä½è®¡æ•°å™¨æ¨¡å—"
            }
        }
    ]
}
```

âŒ é”™è¯¯ - ç›´æ¥è°ƒç”¨æ™ºèƒ½ä½“åç§°:
```json
{
    "tool_calls": [
        {
            "tool_name": "enhanced_real_verilog_agent",  // è¿™æ˜¯é”™è¯¯çš„ï¼
            "parameters": {}
        }
    ]
}
```

# å¯ç”¨å·¥å…·
ä½ å¿…é¡»ä»ä»¥ä¸‹å·¥å…·åˆ—è¡¨ä¸­é€‰æ‹©å¹¶è°ƒç”¨ï¼š
[
  {
    "name": "assign_task_to_agent",
    "description": "æ™ºèƒ½åˆ†é…ä»»åŠ¡ç»™æœ€åˆé€‚çš„æ™ºèƒ½ä½“ï¼ŒåŸºäºä»»åŠ¡ç±»å‹ã€æ™ºèƒ½ä½“èƒ½åŠ›å’Œå†å²è¡¨ç°",
    "schema": {
      "type": "object",
      "properties": {
        "agent_id": {
          "type": "string",
          "description": "ç›®æ ‡æ™ºèƒ½ä½“IDï¼ˆå¿…é¡»æ˜¯enhanced_real_verilog_agentæˆ–enhanced_real_code_review_agentï¼‰",
          "enum": [
            "enhanced_real_verilog_agent",
            "enhanced_real_code_review_agent"
          ]
        },
        "task_description": {
          "type": "string",
          "description": "è¯¦ç»†çš„ä»»åŠ¡æè¿°å’Œè¦æ±‚",
          "minLength": 10,
          "maxLength": 5000
        },
        "expected_output": {
          "type": "string",
          "description": "æœŸæœ›çš„è¾“å‡ºæ ¼å¼å’Œå†…å®¹",
          "default": "",
          "maxLength": 2000
        },
        "task_type": {
          "type": "string",
          "enum": [
            "design",
            "verification",
            "analysis",
            "debug",
            "composite"
          ],
          "description": "ä»»åŠ¡ç±»å‹åˆ†ç±»"
        },
        "priority": {
          "type": "string",
          "enum": [
            "high",
            "medium",
            "low"
          ],
          "default": "medium",
          "description": "ä»»åŠ¡ä¼˜å…ˆçº§"
        }
      },
      "required": [
        "agent_id",
        "task_description"
      ]
    },
    "category": "coordination",
    "security_level": "high"
  },
  {
    "name": "analyze_agent_result",
    "description": "æ·±åº¦åˆ†ææ™ºèƒ½ä½“æ‰§è¡Œç»“æœï¼Œè¯„ä¼°è´¨é‡ã€å®Œæ•´æ€§å’Œä¸‹ä¸€æ­¥è¡ŒåŠ¨",
    "schema": {
      "type": "object",
      "properties": {
        "agent_id": {
          "type": "string",
          "description": "æ‰§è¡Œä»»åŠ¡çš„æ™ºèƒ½ä½“ID"
        },
        "result": {
          "type": "object",
          "description": "æ™ºèƒ½ä½“æ‰§è¡Œç»“æœçš„è¯¦ç»†ä¿¡æ¯"
        },
        "task_context": {
          "type": "object",
          "description": "å½“å‰ä»»åŠ¡ä¸Šä¸‹æ–‡ä¿¡æ¯",
          "default": {}
        },
        "quality_threshold": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "default": 80,
          "description": "è´¨é‡è¯„ä¼°é˜ˆå€¼"
        }
      },
      "required": [
        "agent_id",
        "result"
      ]
    },
    "category": "coordination",
    "security_level": "high"
  },
  {
    "name": "check_task_completion",
    "description": "æ™ºèƒ½æ£€æŸ¥ä»»åŠ¡å®ŒæˆçŠ¶æ€ï¼Œè¯„ä¼°æ•´ä½“è´¨é‡å’Œç¼ºå¤±é¡¹",
    "schema": {
      "type": "object",
      "properties": {
        "task_id": {
          "type": "string",
          "description": "ä»»åŠ¡ID"
        },
        "all_results": {
          "type": "object",
          "description": "æ‰€æœ‰æ™ºèƒ½ä½“çš„æ‰§è¡Œç»“æœæ±‡æ€»"
        },
        "original_requirements": {
          "type": "string",
          "description": "åŸå§‹ä»»åŠ¡éœ€æ±‚æè¿°"
        },
        "completion_criteria": {
          "type": "object",
          "description": "å®Œæˆæ ‡å‡†å®šä¹‰",
          "default": {}
        }
      },
      "required": [
        "task_id",
        "all_results",
        "original_requirements"
      ]
    },
    "category": "coordination",
    "security_level": "high"
  },
  {
    "name": "query_agent_status",
    "description": "æŸ¥è¯¢æ™ºèƒ½ä½“è¯¦ç»†çŠ¶æ€ã€æ€§èƒ½æŒ‡æ ‡å’Œå†å²è¡¨ç°",
    "schema": {
      "type": "object",
      "properties": {
        "agent_id": {
          "type": "string",
          "description": "æ™ºèƒ½ä½“ID",
          "enum": [
            "enhanced_real_verilog_agent",
            "enhanced_real_code_review_agent"
          ]
        },
        "include_performance": {
          "type": "boolean",
          "default": true,
          "description": "æ˜¯å¦åŒ…å«æ€§èƒ½æŒ‡æ ‡"
        },
        "include_history": {
          "type": "boolean",
          "default": false,
          "description": "æ˜¯å¦åŒ…å«å†å²è®°å½•"
        }
      },
      "required": [
        "agent_id"
      ]
    },
    "category": "coordination",
    "security_level": "normal"
  },
  {
    "name": "identify_task_type",
    "description": "æ™ºèƒ½è¯†åˆ«ä»»åŠ¡ç±»å‹ï¼Œä¸ºä»»åŠ¡åˆ†é…æä¾›å†³ç­–æ”¯æŒ",
    "schema": {
      "type": "object",
      "properties": {
        "user_request": {
          "type": "string",
          "description": "ç”¨æˆ·è¯·æ±‚å†…å®¹",
          "minLength": 5,
          "maxLength": 10000
        },
        "context": {
          "type": "object",
          "description": "ä»»åŠ¡ä¸Šä¸‹æ–‡ä¿¡æ¯",
          "default": {}
        }
      },
      "required": [
        "user_request"
      ]
    },
    "category": "analysis",
    "security_level": "normal"
  },
  {
    "name": "recommend_agent",
    "description": "åŸºäºä»»åŠ¡ç‰¹å¾å’Œæ™ºèƒ½ä½“èƒ½åŠ›æ¨èæœ€åˆé€‚çš„æ™ºèƒ½ä½“",
    "schema": {
      "type": "object",
      "properties": {
        "task_type": {
          "type": "string",
          "enum": [
            "design",
            "verification",
            "analysis",
            "debug",
            "composite"
          ],
          "description": "ä»»åŠ¡ç±»å‹"
        },
        "task_description": {
          "type": "string",
          "description": "ä»»åŠ¡æè¿°",
          "minLength": 10
        },
        "priority": {
          "type": "string",
          "enum": [
            "high",
            "medium",
            "low"
          ],
          "default": "medium",
          "description": "ä»»åŠ¡ä¼˜å…ˆçº§"
        },
        "constraints": {
          "type": "object",
          "description": "ä»»åŠ¡çº¦æŸæ¡ä»¶",
          "default": {}
        }
      },
      "required": [
        "task_type",
        "task_description"
      ]
    },
    "category": "coordination",
    "security_level": "normal"
  },
  {
    "name": "provide_final_answer",
    "description": "å½“æ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œè°ƒç”¨æ­¤å·¥å…·æ¥ç”Ÿæˆå¹¶æä¾›æœ€ç»ˆçš„ã€å®Œæ•´çš„ç­”æ¡ˆç»™ç”¨æˆ·ã€‚",
    "schema": {
      "type": "object",
      "properties": {
        "final_summary": {
          "type": "string",
          "description": "å¯¹æ•´ä¸ªä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹å’Œæœ€ç»ˆç»“æœçš„è¯¦ç»†æ€»ç»“ã€‚"
        },
        "task_status": {
          "type": "string",
          "description": "ä»»åŠ¡çš„æœ€ç»ˆçŠ¶æ€ (ä¾‹å¦‚ï¼š'æˆåŠŸ', 'å¤±è´¥', 'éƒ¨åˆ†å®Œæˆ')."
        },
        "results_summary": {
          "type": "object",
          "description": "æ‰€æœ‰æ™ºèƒ½ä½“äº§ç”Ÿçš„ç»“æœçš„ç®€è¦æ±‡æ€»ã€‚"
        }
      },
      "required": [
        "final_summary",
        "task_status"
      ]
    },
    "category": "coordination",
    "security_level": "normal"
  }
]

# è¾“å‡ºæ ¼å¼
ä½ çš„å›å¤å¿…é¡»æ˜¯ä¸¥æ ¼çš„JSONæ ¼å¼ï¼ŒåŒ…å«ä¸€ä¸ª "tool_calls" åˆ—è¡¨ã€‚

# é‡è¦æé†’
- ä¸è¦ç”Ÿæˆä»»ä½•æè¿°æ€§æ–‡æœ¬
- ä¸è¦è§£é‡Šä½ çš„ç­–ç•¥
- ä¸è¦åˆ†æä»»åŠ¡
- åªç”Ÿæˆå·¥å…·è°ƒç”¨JSON
- ç«‹å³å¼€å§‹è°ƒç”¨ç¬¬ä¸€ä¸ªå·¥å…·ï¼š`identify_task_type`

ç«‹å³å¼€å§‹åˆ†æç”¨æˆ·è¯·æ±‚å¹¶è°ƒç”¨ç¬¬ä¸€ä¸ªå·¥å…·ï¼š`identify_task_type`ã€‚

[2025-08-05 11:58:35] LLMClient-dashscope - INFO - ğŸ‘¤ User Prompt (18 å­—ç¬¦):
[2025-08-05 11:58:35] LLMClient-dashscope - INFO - ğŸ‘¤ User Prompt: User: è¯·è®¾è®¡ä¸€ä¸ª4ä½è®¡æ•°å™¨æ¨¡å—
[2025-08-05 11:58:35] LLMClient-dashscope - INFO - ====================================================================================================
[2025-08-05 11:58:35] LLMClient-dashscope - WARNING - âš ï¸ è¿æ¥é”™è¯¯ (å°è¯• 1/3): 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-d594b088-719c-9f47-ac6b-5291c8bfdf2c","request_id":"d594b088-719c-9f47-ac6b-5291c8bfdf2c"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:36] LLMClient-dashscope - WARNING - âš ï¸ è¿æ¥é”™è¯¯ (å°è¯• 2/3): 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-c3edaf47-98e9-9f3a-b74b-244b08fada4f","request_id":"c3edaf47-98e9-9f3a-b74b-244b08fada4f"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:38] LLMClient-dashscope - WARNING - âš ï¸ è¿æ¥é”™è¯¯ (å°è¯• 3/3): 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-8b3e4571-46bb-975d-b8ef-13d15c35e772","request_id":"8b3e4571-46bb-975d-b8ef-13d15c35e772"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:38] LLMClient-dashscope - ERROR - âŒ LLMè¯·æ±‚å¤±è´¥ï¼Œå·²é‡è¯• 3 æ¬¡ã€‚æœ€åé”™è¯¯: 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-8b3e4571-46bb-975d-b8ef-13d15c35e772","request_id":"8b3e4571-46bb-975d-b8ef-13d15c35e772"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:38] __main__ - ERROR - âŒ LLMè°ƒç”¨å¤±è´¥: LLMè¯·æ±‚å¤±è´¥ï¼Œå·²é‡è¯• 3 æ¬¡ã€‚æœ€åé”™è¯¯: 403, message='{"error":{"code":"AllocationQuota.FreeTierOnly","param":null,"message":"The free tier of the model has been exhausted. If you wish to continue access the model on a paid basis, please disable the \\"use free tier only\\" mode in the management console.","type":"AllocationQuota.FreeTierOnly"},"id":"chatcmpl-8b3e4571-46bb-975d-b8ef-13d15c35e772","request_id":"8b3e4571-46bb-975d-b8ef-13d15c35e772"}', url='https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
[2025-08-05 11:58:38] __main__ - ERROR - âŒ æµ‹è¯•æ‰§è¡Œå¤±è´¥: 'SystemPromptVerificationTest' object has no attribute 'coordination_without_self_continuation'
[2025-08-05 11:58:38] __main__ - ERROR - âŒ æµ‹è¯•å¤±è´¥: 'SystemPromptVerificationTest' object has no attribute 'coordination_without_self_continuation'
