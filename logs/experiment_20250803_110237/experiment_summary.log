[2025-08-03 11:02:37] ToolRegistry - INFO - 🗄️ 数据库工具注册完成
[2025-08-03 11:02:37] ToolRegistry - INFO - 🛠️ 基础工具注册完成
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - ✅ 增强BaseAgent初始化完成: enhanced_real_verilog_agent
[2025-08-03 11:02:37] LLMClient-dashscope - INFO - 🚀 初始化LLM客户端 - 提供商: dashscope, 模型: qwen3-30b-a3b-instruct-2507
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: analyze_design_requirements (安全级别: normal)
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: generate_verilog_code (安全级别: high)
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: search_existing_modules (安全级别: normal)
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: generate_testbench (安全级别: normal)
[2025-08-03 11:02:37] core.file_manager - INFO - 🗂️ 中央文件管理器已初始化，工作空间: /home/haiyan/Research/CentralizedAgentFramework/file_workspace
[2025-08-03 11:02:37] core.file_manager - INFO - 🆔 生成新文件ID: eee20540
[2025-08-03 11:02:37] core.file_manager - INFO - 🆕 创建新文件引用: eee20540
[2025-08-03 11:02:37] core.file_manager - INFO - 💾 文件已保存: test1.v (ID: eee20540, 类型: verilog)
[2025-08-03 11:02:37] core.file_manager - INFO - 🆔 生成新文件ID: 2c4ef0df
[2025-08-03 11:02:37] core.file_manager - INFO - 🆕 创建新文件引用: 2c4ef0df
[2025-08-03 11:02:37] core.file_manager - INFO - 💾 文件已保存: test2.v (ID: 2c4ef0df, 类型: verilog)
[2025-08-03 11:02:37] ToolRegistry - INFO - 🗄️ 数据库工具注册完成
[2025-08-03 11:02:37] ToolRegistry - INFO - 🛠️ 基础工具注册完成
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - ✅ 增强BaseAgent初始化完成: enhanced_real_verilog_agent
[2025-08-03 11:02:37] LLMClient-dashscope - INFO - 🚀 初始化LLM客户端 - 提供商: dashscope, 模型: qwen3-30b-a3b-instruct-2507
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: analyze_design_requirements (安全级别: normal)
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: generate_verilog_code (安全级别: high)
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: search_existing_modules (安全级别: normal)
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - INFO - 🔧 增强工具注册成功: generate_testbench (安全级别: normal)
[2025-08-03 11:02:37] core.schema_system.enhanced_base_agent - WARNING - ⚠️ 工具 write_file 未在增强注册表中，回退到传统方式
[2025-08-03 11:02:37] core.file_manager - INFO - 🆔 生成新文件ID: eea3b068
[2025-08-03 11:02:37] core.file_manager - INFO - 🆕 创建新文件引用: eea3b068
[2025-08-03 11:02:37] core.file_manager - INFO - 💾 文件已保存: test_enhanced.v (ID: eea3b068, 类型: verilog)
[2025-08-03 11:02:37] extensions.test_driven_coordinator.TestDrivenCoordinator - INFO - 🧪 测试驱动协调器扩展已初始化
[2025-08-03 11:02:37] extensions.test_driven_coordinator.TestDrivenCoordinator - INFO - ✅ 从工具结果提取文件引用: test_module.v
[2025-08-03 11:02:37] extensions.test_driven_coordinator.TestDrivenCoordinator - WARNING - ⚠️ 文件不存在，跳过: test_module.v
[2025-08-03 11:02:37] extensions.test_driven_coordinator.TestDrivenCoordinator - INFO - 📄 最终提取到 0 个有效文件引用
ent - INFO - 🔍 开始提取Verilog代码，原始内容长度: 25
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔍 未找到代码块，尝试提取module声明
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ 找到 1 个module声明
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ module 1 验证通过，长度: 25
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ 成功提取Verilog代码，长度: 25
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - WARNING - ⚠️ Verilog代码提取失败，使用传统清理方法
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ 文件已通过中央管理器保存: test2.v (file path: /home/haiyan/Research/CentralizedAgentFramework/file_workspace/designs/test2.v) (ID: 2c4ef0df)
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🛠️ 传统工具调用已启用: 权限=4
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 注册Function Calling工具: write_file
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 注册Function Calling工具: read_file
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ EnhancedRealVerilogAgent (Function Calling支持) 初始化完成
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 注册Function Calling工具: analyze_design_requirements
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 注册Function Calling工具: generate_verilog_code
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 注册Function Calling工具: search_existing_modules
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 注册Function Calling工具: generate_testbench
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 增强Verilog设计智能体(Schema支持)初始化完成
[2025-08-03 11:02:37] EnhancedRealVerilogAgent - INFO - EnhancedRealVerilogAgent初始化完成
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔧 执行工具调用: write_file (尝试 1/3)
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔄 参数映射: file_path -> filename: test_enhanced.v
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 📝 写入文件: test_enhanced.v
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔍 实验管理器检查:
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO -    - 实验管理器存在: True
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO -    - 当前实验路径: None
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔍 filename: test_enhanced.v
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔍 file type: verilog
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🧹 使用智能代码提取处理Verilog文件
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔍 开始提取Verilog代码，原始内容长度: 33
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - 🔍 未找到代码块，尝试提取module声明
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ 找到 1 个module声明
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ module 1 验证通过，长度: 33
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ 成功提取Verilog代码，长度: 33
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - WARNING - ⚠️ Verilog代码提取失败，使用传统清理方法
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ 文件已通过中央管理器保存: test_enhanced.v (file path: /home/haiyan/Research/CentralizedAgentFramework/file_workspace/designs/test_enhanced.v) (ID: eea3b068)
[2025-08-03 11:02:37] Agent.enhanced_real_verilog_agent - INFO - ✅ 工具执行成功: write_file
