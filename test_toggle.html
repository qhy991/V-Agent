<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>展开功能测试</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .conversation-item {
            background: white;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .conversation-header {
            background: #f8f9fa;
            padding: 10px 15px;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .role-icon {
            font-size: 1.2em;
        }
        .role-name {
            font-weight: bold;
            color: #333;
        }
        .agent-id {
            color: #666;
            font-size: 0.9em;
        }
        .time {
            margin-left: auto;
            color: #999;
            font-size: 0.8em;
        }
        .expand-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            border: none;
            cursor: pointer;
            font-size: 0.8em;
            margin-left: 10px;
            transition: all 0.3s ease;
        }
        .expand-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        .conversation-content {
            padding: 15px;
        }
        .details {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 8px;
            padding: 8px;
            background: #e3f2fd;
            border-radius: 4px;
        }
        .content-full {
            margin-top: 10px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        .content-full pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
            color: #333;
        }
    </style>
</head>
<body>
    <h1>展开功能测试</h1>
    
    <div class="conversation-item">
        <div class="conversation-header">
            <span class="role-icon">🧠</span>
            <span class="role-name">LLM调用</span>
            <span class="agent-id">(llm_coordinator_agent)</span>
            <span class="time">21:46:36</span>
            <button class="expand-btn" onclick="toggleContent('test_1')">📖 展开</button>
        </div>
        <div class="conversation-content">
            <p class="details">响应长度: 239 字符</p>
            <div class="content-full" id="test_1" style="display: none;">
                <pre>这是测试内容，点击展开按钮应该能看到这段文字。

🧠 协调任务

**用户需求**:
请设计一个名为 counter 的Verilog模块。

**基本要求**：
1. 生成完整、可编译的Verilog代码
2. 包含适当的端口定义和功能实现
3. 符合Verilog标准语法
4. 生成对应的测试台进行验证

这是一个很长的内容，用来测试展开功能是否正常工作。</pre>
            </div>
        </div>
    </div>

    <div class="conversation-item">
        <div class="conversation-header">
            <span class="role-icon">🔧</span>
            <span class="role-name">工具执行</span>
            <span class="agent-id">(llm_coordinator_agent)</span>
            <span class="time">21:46:39</span>
            <button class="expand-btn" onclick="toggleContent('test_2')">📖 展开</button>
        </div>
        <div class="conversation-content">
            <p class="details">成功执行: identify_task_type</p>
            <div class="content-full" id="test_2" style="display: none;">
                <pre>工具执行成功！

执行时间: 21:46:39
智能体: llm_coordinator_agent
工具名称: identify_task_type

执行结果:
- 任务类型: design
- 复杂度: medium
- 推荐智能体: enhanced_real_verilog_agent</pre>
            </div>
        </div>
    </div>

    <script>
        function toggleContent(id) {
            const contentFull = document.getElementById(id);
            if (contentFull) {
                const isHidden = contentFull.style.display === 'none';
                contentFull.style.display = isHidden ? 'block' : 'none';
                console.log(`切换内容显示: ${id}, 显示状态: ${isHidden ? '显示' : '隐藏'}`);
            } else {
                console.error(`找不到元素: ${id}`);
            }
        }
    </script>
</body>
</html> 